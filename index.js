const config = require("config");

// const { Telegraf, Markup } = require("telegraf");
const { Composer } = require('micro-bot')
const bot = new Composer;

const bot = new Telegraf(config.get("token"));

bot.use(Telegraf.log());

bot.start(async (ctx) => {
    return await ctx.reply(
        "–í –±–æ—Ç–µ –º–æ–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ <b>–ø–æ–¥–¥–µ—Ä–∂–∫—É</b>, –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π –∏ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–ø–∏—Å–æ–∫ –∫—É—Ä—Å–æ–≤",
        {
            parse_mode: "HTML",
            ...Markup.keyboard([
                ["üïò –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π", "üìÉ –°–ø–∏—Å–æ–∫ –∫—É—Ä—Å–æ–≤"],
                ["üí° –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ", "üë©‚Äçüè´ –û –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ", "‚ùì –ü–æ–¥–¥–µ—Ä–∂–∫–∞"],
            ]).resize(),
        }
    );
});

bot.hears("üí° –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ", (ctx) => {
    return ctx.reply(
        `*–ö–∞–∫ –ª—É—á—à–µ –∑–∞–Ω–∏–º–∞—Ç—å—Å—è: OnlineTeacher –∏–ª–∏ HomeTeacher*?
        
–ï—Å–ª–∏ –≤–∞—à —Ä–µ–±–µ–Ω–æ–∫ –≤–ø–æ–ª–Ω–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª–µ–Ω –∏ —Å–º–æ–∂–µ—Ç —Å–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ—É—Ä–æ–∫–∏ –æ—Ç HomeTeacher –∏–ª–∏ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –¥–æ–º–∞, —Ç–æ –≤–∞—Ä–∏–∞–Ω—Ç —Å HomeTeacher ‚Äì –¥–ª—è –≤–∞—Å. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é —É –Ω–∞—à–µ–≥–æ –ø–µ–¥–∞–≥–æ–≥–∞ —Å–µ—Ç–∏ ¬´–ü–æ–ª–∏–≥–ª–æ—Ç–∏–∫–∏¬ª.

–ï—Å–ª–∏ –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –∂–∏–≤–æ–µ –æ–±—â–µ–Ω–∏–µ —Å –ø–µ–¥–∞–≥–æ–≥–æ–º, —Ç–æ OnlineTeacher, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –¥–ª—è –æ–Ω–ª–∞–π–Ω-—É—Ä–æ–∫–æ–≤, –ø–æ–¥–æ–π–¥–µ—Ç –≤–∞–º –Ω–∞–∏–ª—É—á—à–∏–º –æ–±—Ä–∞–∑–æ–º. –í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∏–ª–∏ –≥—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–Ω—è—Ç–∏—è –¥–ª—è —Ä–µ–±–µ–Ω–∫–∞. –ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –∏ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–æ–±–Ω–æ–≥–æ —É—Ä–æ–∫–∞ –ø–µ–¥–∞–≥–æ–≥ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –≤–∞—à —É—Ä–æ–≤–µ–Ω—å –∏ –ø–æ—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç —Ñ–æ—Ä–º—É –∏ —Ä–µ–∂–∏–º –∑–∞–Ω—è—Ç–∏–π.

*–° –∫–∞–∫–æ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞ –º–æ–∂–Ω–æ –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –æ–Ω–ª–∞–π–Ω?*

–°–æ–≥–ª–∞—Å–Ω–æ –Ω–æ—Ä–º–∞–º –°–∞–Ω–ü–∏–Ω, –¥–µ—Ç—è–º –¥–æ —Ç—Ä–µ—Ö –ª–µ—Ç –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω—ã –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤, —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ –∏ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤. –û–¥–Ω–∞–∫–æ —Ä–µ–∞–ª–∏–∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∂–∏–∑–Ω–∏ –≥–æ–≤–æ—Ä—è—Ç –æ —Ç–æ–º, —á—Ç–æ –¥–µ—Ç–∏ —Å–º–æ—Ç—Ä—è—Ç –º—É–ª—å—Ç—Ñ–∏–ª—å–º—ã –µ—â–µ –≤ –≤–æ–∑—Ä–∞—Å—Ç–µ –¥–æ 1 –≥–æ–¥–∞.

–ù–∞—à–∏ –≤–∏–¥–µ–æ—É—Ä–æ–∫–∏ –ø–æ–¥–æ–π–¥—É—Ç –∫–∞–∫ –¥–ª—è —Å–∞–º—ã—Ö –º–∞–ª–µ–Ω—å–∫–∏—Ö, –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ –º–∞–º–∞ –±—É–¥–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–º –ø–æ–º–æ—â–Ω–∏–∫–æ–º –≤ –æ—Å–≤–æ–µ–Ω–∏–∏ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–≥–æ. –î–µ—Ç–∏ —Å 3 –ª–µ—Ç –º–æ–≥—É—Ç –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –æ–Ω–ª–∞–π–Ω –ø–æ–¥ –ø—Ä–∏—Å–º–æ—Ç—Ä–æ–º –≤–∑—Ä–æ—Å–ª—ã—Ö, –∞ —Å 5-–ª–µ—Ç–Ω–µ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–º –¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–æ.
        
*–° —á–µ–≥–æ –ª—É—á—à–µ –Ω–∞—á–∞—Ç—å –æ–Ω–ª–∞–π–Ω-–æ–±—É—á–µ–Ω–∏–µ OnlineTeacher?*

–í—ã–±–æ—Ä –∫—É—Ä—Å–∞ –æ–Ω–ª–∞–π–Ω –æ–±—É—á–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–æ–∑—Ä–∞—Å—Ç–∞ –∏ —É—Ä–æ–≤–Ω—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Ä–µ–±–µ–Ω–∫–∞. –ï—Å–ª–∏ –º–∞–ª—ã—à –Ω–µ –∑–Ω–∞–∫–æ–º —Å —è–∑—ã–∫–æ–º, –µ–º—É –ø–æ–¥–æ–π–¥–µ—Ç —É—Ä–æ–≤–µ–Ω—å ¬´–î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö¬ª. –û–Ω –ø–æ–¥–æ–π–¥–µ—Ç –∫–∞–∫ –¥–ª—è –¥–µ—Ç–µ–π 3-5 –ª–µ—Ç, —Ç–∞–∫ –∏ –¥–ª—è 6-7 –ª–µ—Ç, –Ω–µ –≤–ª–∞–¥–µ—é—â–∏—Ö –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–º —è–∑—ã–∫–æ–º. –ï—Å–ª–∏ —Ä–µ–±–µ–Ω–æ–∫ —É–∂–µ –∏–∑—É—á–∞–µ—Ç –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π, —Ç–æ —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å ¬´–î–ª—è –ø—Ä–æ–¥–æ–ª–∂–∞—é—â–∏—Ö¬ª (–≤–æ–∑—Ä–∞—Å—Ç –¥–æ 8-9 –ª–µ—Ç). –í —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ —Ä–µ–±–µ–Ω–æ–∫ —Ö–æ–¥–∏—Ç –≤ –Ω–∞—á–∞–ª—å–Ω—É—é —à–∫–æ–ª—É, –∞ –∑–Ω–∞—á–∏—Ç –µ–≥–æ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –∑–Ω–∞–∫–æ–º—è—Ç —Å —è–∑—ã–∫–æ–º, —Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –≤—ã–±—Ä–∞—Ç—å –∫—É—Ä—Å ¬´–ê–Ω–≥–ª–∏–π—Å–∫–∏–π –¥–ª—è –º–ª–∞–¥—à–∏—Ö —à–∫–æ–ª—å–Ω–∏–∫–æ–≤¬ª.
`,
        {
            parse_mode: "Markdown",
            ...Markup.inlineKeyboard([
                Markup.button.url(
                    "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã",
                    "https://poliglotiki.com/faq.html"
                ),
            ]),
        }
    );
});

bot.hears("üìÉ –°–ø–∏—Å–æ–∫ –∫—É—Ä—Å–æ–≤", (ctx) => {
    return ctx.reply("–°–µ–π—á–∞—Å –¥–æ—Å—Ç—É–ø–Ω–æ 30 –∫—É—Ä—Å–æ–≤", {
        parse_mode: "HTML",
        ...Markup.inlineKeyboard([
            Markup.button.url(
                "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫—É—Ä—Å—ã",
                "https://poliglotiki.com/home-teacher/courses"
            ),
        ]),
    });
});

bot.hears("üë©‚Äçüè´ –û –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ", (ctx) => {
    return ctx.reply(
        `<b>–ü–æ–ª–∏–≥–ª–æ—Ç–∏–∫–∏</b>‚Ñ¢ ‚Äì —ç—Ç–æ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è —Å–µ—Ç—å –¥–µ—Ç—Å–∫–∏—Ö —è–∑—ã–∫–æ–≤—ã—Ö —Ü–µ–Ω—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –±–æ–ª–µ–µ 130 —Ñ–∏–ª–∏–∞–ª–æ–≤ –≤ –†–æ—Å—Å–∏–∏ –∏ –±–ª–∏–∂–Ω–µ–º –∑–∞—Ä—É–±–µ–∂—å–µ. –ù–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å –≤ —è–∑—ã–∫–æ–≤—ã—Ö —Ü–µ–Ω—Ç—Ä–∞—Ö –æ–±—É—á–∞—é—Ç—Å—è 25 —Ç—ã—Å—è—á –¥–µ—Ç–µ–π –≤ –≤–æ–∑—Ä–∞—Å—Ç–µ –æ—Ç 1 –≥–æ–¥–∞ –¥–æ 18 –ª–µ—Ç. –í —Ö–æ–¥–µ –æ—á–Ω—ã—Ö –∏ –æ–Ω–ª–∞–π–Ω –∑–∞–Ω—è—Ç–∏–π –æ–Ω–∏ –æ—Å–≤–∞–∏–≤–∞—é—Ç –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –Ω–µ–º–µ—Ü–∫–∏–π, –∏—Å–ø–∞–Ω—Å–∫–∏–π, —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π, –∫–∏—Ç–∞–π—Å–∫–∏–π –∏ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫–∏. –ù–∞ –≤—ã–±–æ—Ä –≤ —Ü–µ–Ω—Ç—Ä–∞—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ 70 –æ–±—É—á–∞—é—â–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º, –≤ –æ—Å–Ω–æ–≤–µ –∫–æ—Ç–æ—Ä—ã—Ö —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä—Å–∫–∞—è –º–µ—Ç–æ–¥–∏–∫–∞. –ó–∞ —Å—á—ë—Ç –∫–æ–º–º—É–Ω–∏–∫–∞—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –æ–Ω–∞ –ø–æ–º–æ–≥–∞–µ—Ç –≤ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Ä–æ–∫–∏ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —É —Ä–µ–±—ë–Ω–∫–∞ –±–∏–ª–∏–Ω–≥–≤–∏–∑–º –∏ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç –µ–≥–æ –≤—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω–µ.`,
        {
            parse_mode: "HTML",
        }
    );
});

bot.hears("‚ùì –ü–æ–¥–¥–µ—Ä–∂–∫–∞", (ctx) => {
    return ctx.reply("–û—Ç–≤–µ—á–∞–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ —á–∞—Å–∞", {
        parse_mode: "HTML",
        ...Markup.inlineKeyboard([
            Markup.button.url(
                "–û–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É",
                "https://t.me/PoliglotikiHomeTeacher"
            ),
        ]),
    });
});

bot.hears("üïò –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π", (ctx) => {
    return ctx.reply("OnlineTeacher ‚Äî –≥—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–Ω—è—Ç–∏—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é", {
        parse_mode: "HTML",
        ...Markup.inlineKeyboard([
            Markup.button.url(
                "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ",
                "https://poliglotiki.com/home-teacher/schedule"
            ),
        ]),
    });
});

bot.hears(/\/wrap (\d+)/, (ctx) => {
    return ctx.reply(
        "Keyboard wrap",
        Markup.keyboard(["one", "two", "three", "four", "five", "six"], {
            columns: parseInt(ctx.match[1]),
        })
    );
});

// bot.launch();
module.exports = bot;
